{"version":3,"sources":["app.coffee","controller.coffee","factory.coffee","filter.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["\r\nwindow.ScraperApp = angular.module 'ScraperApp', [ 'ui.router' ]\r\n","###*\r\n# @class ScraperApp\r\n# @author Insert Your Name As Author <trc4@usa.com>\r\n###\r\n\r\nwindow.ScraperApp.controller \"ScraperController\",\r\n[\r\n    '$scope'\r\n    '$window'\r\n    'routeApi'\r\n    '$timeout'\r\n    (\r\n        $scope\r\n        $window\r\n        $routeapi\r\n        $timeout\r\n    ) ->\r\n\r\n        class ScrapController\r\n            \r\n            constructor : () ->\r\n\r\n                url = $window.Url + 'test.html'\r\n\r\n                $scope.perpages = [ 10, 20, 50, 100 ]\r\n\r\n                $scope.pageinfo = {}\r\n\r\n                $scope.form =\r\n                    image : \r\n                        url : url\r\n                    tag : \r\n                        url  : url\r\n                        type : 'img'\r\n                    website : \r\n                        url       : url\r\n                        datacount : 0\r\n                    site : \r\n                        url : url\r\n\r\n                $scope.results = \r\n                    images      : []\r\n                    tags        : []\r\n                    links       : []\r\n                    site        : {}\r\n\r\n                $scope.norecord = \r\n                    image : false\r\n                    tag   : false\r\n                    link  : false\r\n                    site  : false\r\n\r\n                $scope.pagination = {}\r\n\r\n                $scope.onrequest  = false\r\n\r\n\r\n            $scope.numberOfPages = (type, collection) ->\r\n\r\n                if $scope.form[type]\r\n\r\n                    if not $scope.pagination[type]\r\n                        $scope.pagination[type] =\r\n                            currentpage : 0\r\n                            pagesize    : 10\r\n                            pagetotal   : 0\r\n                            pages       : []\r\n\r\n                    $scope.pagination[type].currentpage = 0\r\n                    $scope.pagination[type].pages = []\r\n\r\n                    $scope.pagination[type].pagetotal = Math.ceil $scope.results[collection]?.length / $scope.pagination[type].pagesize \r\n\r\n                    for i in [ 0...$scope.pagination[type].pagetotal ]\r\n                        $scope.pagination[type].pages.push i\r\n\r\n\r\n            $scope.submit = (type) ->\r\n\r\n                collection = ''\r\n                collection = 'images' if type is 'image'\r\n                collection = 'tags'   if type is 'tag'\r\n                collection = 'links'  if type is 'website'\r\n                collection = 'site'   if type is 'site'\r\n\r\n                if $scope.form[type]?.url and collection isnt ''\r\n\r\n                    $scope.onrequest = true\r\n\r\n                    data = $scope.form[type]\r\n                    data.action = type\r\n                    \r\n                    $scope.norecord[type] = false\r\n\r\n                    route = $window.Url + 'scraper.php'\r\n\r\n                    $scope.results[collection] = []\r\n                    $scope.pageinfo[type]      = {}\r\n\r\n                    $routeapi.send route, data, 'POST'\r\n                    .then ( response ) ->\r\n\r\n                        res = response.data\r\n\r\n                        $scope.pageinfo[type].title       = res.title       if res.title\r\n                        $scope.pageinfo[type].description = res.description if res.description\r\n                        $scope.pageinfo[type].keywords    = res.keywords    if res.keywords\r\n                        $scope.pageinfo[type].author      = res.author      if res.author\r\n\r\n                        if res.type is 'image'\r\n                            $scope.results.images = res.data\r\n\r\n                        if res.type is 'tag'\r\n                            $scope.results.tags = res.data     \r\n                            $scope.numberOfPages 'tag', 'tags'\r\n\r\n                        if res.type is 'website'\r\n                            $scope.form.website.datacount = _.size res.data\r\n                            $scope.results.links = res.data\r\n\r\n                        $scope.norecord[type] = true if _.size(res.data) is 0\r\n\r\n                        if res.type is 'site'\r\n                            $scope.results.site = res.data\r\n                            console.log _.size(res.data.zip)\r\n                            $scope.norecord[type] = true if _.size(res.data.zip) is 0\r\n\r\n                        $scope.onrequest = false\r\n\r\n\r\n                        return\r\n                        \r\n\r\n                return\r\n\r\n        new ScrapController()\r\n\r\n]","###*\r\n# @class ScraperApp\r\n# @author Insert Your Name As Author <trc4@usa.com>\r\n###\r\n\r\nwindow.ScraperApp.factory \"routeApi\",\r\n[\r\n\t'$http',\r\n\t'$rootScope'\r\n\t'$q'\r\n\t'$window'\r\n\t(\r\n\t\t$http,\r\n\t\t$rootScope,\r\n\t\t$q\r\n\t\t$window\r\n\t) ->\r\n\t\t\t\r\n\t\tsend : (url, data={}, method='GET') ->\r\n\r\n\t\t\t@$$additionalHTTPHeader()\r\n\t\t\tdata._token = $window.csrf if _.size(data) > 0 and $window.csrf and method.toLowerCase() is 'post'\r\n\r\n\t\t\thttpDataRequest =\r\n\t\t\t\tmethod: method\r\n\t\t\t\turl: url\r\n\t\t\t\theaders: { 'Content-Type' : 'application/x-www-form-urlencoded; charset=UTF-8' }\r\n\t\t\t\tdata: $.param data\r\n\r\n\t\t\treturn $http.get url if method == 'GET'\r\n\t\t\treturn $http httpDataRequest\r\n\r\n\t\t###\r\n\t\t#   Authentication   = Site Authentication Token\r\n\t\t#   X-Requested-With = Set Http Request to AJAX FORMAT\r\n\t\t###\r\n\t\t$$additionalHTTPHeader : ( ) ->\r\n\t\t\t$http.defaults.headers.common['Authentication']   = 'YOUR_USER_NAME'\r\n\t\t\t$http.defaults.headers.common['X-Requested-With'] = \"XMLHttpRequest\"\r\n\r\n\t\t\treturn\r\n]\r\n","\r\n\r\nwindow.ScraperApp\r\n\r\n.filter 'startFrom', ->\r\n    return (input, start) ->\r\n        start = +start\r\n        return input.slice(start) if input\r\n\r\n\r\n.filter 'isObj', ->\r\n    return (str, reverse=false) ->\r\n        if reverse is true\r\n            return not angular.isObject str\r\n        return angular.isObject str\r\n"]}